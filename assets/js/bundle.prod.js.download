!function(t){var e={};function r(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(n,a,function(e){return t[e]}.bind(null,a));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(t,e,r){t.exports=r(3)},function(t,e){function r(t){var e=t.classList.contains("tertiary"),r=(parseInt(t.dataset.state)||0)%(e?3:2);t.checked=0!==r,t.indeterminate=e?2===r:t.checked&&t.classList.contains("indeterminate-mark"),t.dataset.state=r}var n=!0,a=!1,i=void 0;try{for(var o,l=document.querySelectorAll("input[type=checkbox].custom-control-input")[Symbol.iterator]();!(n=(o=l.next()).done);n=!0){var u=o.value;u.checked&&(u.dataset.state=1),r(u),u.addEventListener("change",function(t){t.preventDefault();var e=parseInt(this.dataset.state)||0;this.dataset.state=e+1,r(this)})}}catch(t){a=!0,i=t}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}},function(t,e){var r=!0,n=!1,a=void 0;try{for(var i,o=document.querySelectorAll(".manga-sort-select")[Symbol.iterator]();!(r=(i=o.next()).done);r=!0){i.value.addEventListener("change",function(t){var e=new URL(window.location.href);e.searchParams.set("s",this.value),e.hash="listing",window.location=e})}}catch(t){n=!0,a=t}finally{try{r||null==o.return||o.return()}finally{if(n)throw a}}},function(t,e,r){"use strict";function n(t){return function(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function a(t,e,r){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(n){var a=Object.getOwnPropertyDescriptor(n,e);return a.get?a.get.call(r):a.value}})(t,e,r||t)}function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function d(t,e,r){return e&&p(t.prototype,e),r&&p(t,r),t}r.r(e);var h=function(){function t(e){s(this,t),e.dataset.initialized||(this.input=e,this.inputName=this.input.name,this.input.removeAttribute("name"),this.wrapper=document.createElement("div"),this.chipWrapper=document.createElement("div"),this.values=[],e.parentElement.replaceChild(this.wrapper,this.input),this.wrapper.appendChild(this.input),this.wrapper.appendChild(this.chipWrapper),this.wrapper.classList.add("chip-input-wrapper"),this.chipWrapper.classList.add("chip-array"),this.initialize(),this.input.dataset.initialized=!0,this.insertDefaults())}return d(t,[{key:"initialize",value:function(){var t=this;this.input.value="",this.input.addEventListener("change",function(e){t.addValue(e.target.value),e.target.value=""})}},{key:"getText",value:function(t){return t}},{key:"addValue",value:function(t,e){return this.input.dataset.noTrim&&"0"!==this.input.dataset.noTrim||(t=t.trim()),this.values.find(function(e){return e.value==t})?null:(this.values.push(t),this.addChip(e||this.chipWrapper,t))}},{key:"removeValue",value:function(t){var e=this.values.findIndex(function(e){return e==t});e>-1&&(this.removeChip(t),this.values.splice(e,1))}},{key:"getChip",value:function(t){return this.chipWrapper.querySelector('.chip[data-value="'.concat(t,'"]'))}},{key:"addChip",value:function(t,e){var r=this,n=t.appendChild(document.createElement("span"));n.classList.add("chip"),n.dataset.value=e;var a=n.appendChild(document.createElement("span"));a.textContent=this.getText(e),a.classList.add("badge","badge-pill");var i=a.appendChild(document.createElement("span"));i.classList.add("remove","fas","fa-times-circle","text-light");var o=n.appendChild(document.createElement("input"));return o.type="hidden",o.value=e,o.name=this.inputName,i.addEventListener("click",function(t){r.removeValue(t.target.closest(".chip").dataset.value)}),n}},{key:"removeChip",value:function(t){var e=this.getChip(t);e?e.remove():console.error("Chip ".concat(t," not found"))}},{key:"insertDefaults",value:function(){var t=this.input.dataset.separator?new RegExp(this.input.dataset.separator):",",e=!0,r=!1,n=void 0;try{for(var a,i=this.input.dataset.defaults.split(t)[Symbol.iterator]();!(e=(a=i.next()).done);e=!0){var o=a.value;o&&this.addValue(o)}}catch(t){r=!0,n=t}finally{try{e||null==i.return||i.return()}finally{if(r)throw n}}}}],[{key:"initialize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".chip-input",e=!0,r=!1,n=void 0;try{for(var a,i=document.querySelectorAll("select"+t)[Symbol.iterator]();!(e=(a=i.next()).done);e=!0){var o=a.value;new y(o)}}catch(t){r=!0,n=t}finally{try{e||null==i.return||i.return()}finally{if(r)throw n}}var l=!0,u=!1,c=void 0;try{for(var s,p=document.querySelectorAll('input[type="text"]'+t)[Symbol.iterator]();!(l=(s=p.next()).done);l=!0){var d=s.value;new f(d)}}catch(t){u=!0,c=t}finally{try{l||null==p.return||p.return()}finally{if(u)throw c}}}}]),t}(),f=function(t){function e(){return s(this,e),o(this,l(e).apply(this,arguments))}return u(e,h),e}(),y=function(t){function e(){return s(this,e),o(this,l(e).apply(this,arguments))}return u(e,h),d(e,[{key:"initialize",value:function(){var t=this;if(this.input.value="",this.input.addEventListener("change",function(e){e.stopPropagation(),e.preventDefault(),e.target.value&&t.addValue(e.target.value)}),this.input.dataset.grouped){var e=Array.from(this.input.querySelectorAll("optgroup")).map(function(t){return t.label}),r=!0,n=!1,a=void 0;try{for(var i,o=e[Symbol.iterator]();!(r=(i=o.next()).done);r=!0){var l=i.value,u=document.createElement("div");u.classList.add("chip-group","d-none"),u.dataset.label=l;var c=u.appendChild(document.createElement("span"));c.classList.add("label"),c.textContent=l,u.appendChild(document.createElement("div")).classList.add("chip-array"),this.chipWrapper.appendChild(u)}}catch(t){n=!0,a=t}finally{try{r||null==o.return||o.return()}finally{if(n)throw a}}}}},{key:"getText",value:function(t){return this.getOption(t).textContent}},{key:"getOption",value:function(t){return this.input.querySelector('option[value="'.concat(t,'"]'))}},{key:"getOptgroup",value:function(t){return this.getOption(t).closest("optgroup")}},{key:"getChipGroup",value:function(t){return this.chipWrapper.querySelector('.chip-group[data-label="'.concat(t,'"]'))}},{key:"addValue",value:function(t){var r=this.input.dataset.grouped?this.getChipGroup(this.getOptgroup(t).label).querySelector(".chip-array"):this.chipWrapper,i=a(l(e.prototype),"addValue",this).call(this,t,r);if(i){var o,u=this.getOption(t);if(u.disabled=!0,"check"===this.input.dataset.selectBehaviour?u.innerHTML="&check; "+u.innerHTML:"hide"===this.input.dataset.selectBehaviour&&u.classList.add("d-none"),u.dataset.chipClasses)(o=i.querySelector(".badge").classList).add.apply(o,n(u.dataset.chipClasses.split(" ")));this.input.dataset.grouped&&this.getChipGroup(this.getOptgroup(t).label).classList.remove("d-none")}}},{key:"removeValue",value:function(t){a(l(e.prototype),"removeValue",this).call(this,t);var r=this.getOption(t);if(r.disabled=!1,"check"===this.input.dataset.selectBehaviour?r.innerHTML=r.innerHTML.slice(2):"hide"===this.input.dataset.selectBehaviour&&r.classList.remove("d-none"),this.input.dataset.grouped){var n=this.getOptgroup(t),i=this.getChipGroup(n.label);i.classList.toggle("d-none",null==i.querySelector(".chip"))}}}]),e}();r(1),r(2);function v(t){if(t){var e=!0,r=!1,n=void 0;try{for(var a,i=document.querySelectorAll(".tag-display-mode-toggle")[Symbol.iterator]();!(e=(a=i.next()).done);e=!0){var o=a.value;o.classList.toggle("active",o.dataset.value===t)}}catch(t){r=!0,n=t}finally{try{e||null==i.return||i.return()}finally{if(r)throw n}}var l=!0,u=!1,c=void 0;try{for(var s,p=document.querySelectorAll(".tag-display-mode-wrapper")[Symbol.iterator]();!(l=(s=p.next()).done);l=!0){var d=s.value,h=d.dataset.tagDisplay!==t;d.classList.toggle("d-none",h);var f=!0,y=!1,v=void 0;try{for(var m,g=d.querySelectorAll("input")[Symbol.iterator]();!(f=(m=g.next()).done);f=!0){m.value.disabled=h}}catch(t){y=!0,v=t}finally{try{f||null==g.return||g.return()}finally{if(y)throw v}}}}catch(t){u=!0,c=t}finally{try{l||null==p.return||p.return()}finally{if(u)throw c}}}}var m=!0,g=!1,b=void 0;try{for(var w,S=document.querySelectorAll(".tag-display-mode-toggle")[Symbol.iterator]();!(m=(w=S.next()).done);m=!0){w.value.addEventListener("click",function(t){t.preventDefault();var e=this.dataset.value;v(e);try{localStorage.setItem("display.tagmode",e)}catch(t){}})}}catch(t){g=!0,b=t}finally{try{m||null==S.return||S.return()}finally{if(g)throw b}}h.initialize(".chip-input"),function(){try{v(localStorage.getItem("display.tagmode")||"dropdowns")}catch(t){}}()}]);